<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>多值同时运动</title>
    <style>
    #div1 {
        width: 100px;
        height: 100px;
        background-color: red;
        position: absolute;
        left: 100px;
        top: 100px;
    }
    </style>
    <script>
    window.onload = function() {
        var oDiv = document.getElementById('div1');
        oDiv.onclick = function() {
            startMove(this, {
                width: 200,
                height: 200
            }, 10);
        }

        function startMove(obj, json, iSpeed) {
            clearInterval(obj.iTimer);
            var iCur = 0;
            obj.iTimer = setInterval(function() {
                for (var attr in json) {
                    var iTarget = json[attr];
                    if (attr == 'opacity') {
                        iCur = Math.round(css(obj, 'opacity') * 100);
                    } else {
                        iCur = parseInt(css(obj, attr));
                    }


                    if (iCur == iTarget) {
                        clearInterval(obj.iTimer);
                    } else {
                        if (attr == 'opacity') {
                            obj.style.opacity = (iCur + iSpeed) / 100;
                            obj.style.filter = 'alpha(opacity=' + (iCur + iSpeed) + ')';
                        } else {
                            obj.style[attr] = iCur + iSpeed + 'px';
                        }
                    }
                }
            }, 30)
        }



        function css(obj, attr) {
            if (obj.currentStyle) {
                return obj.currentStyle[attr];
            } else {
                return getComputedStyle(obj, false)[attr];
            }
        }
    }
    </script>
</head>

<body>
    <div id="div1"></div>
</body>

</html>